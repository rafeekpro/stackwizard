# ==============================================================================
# üßô‚Äç‚ôÇÔ∏è StackWizard Environment Configuration
# ==============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control
# ==============================================================================

# ------------------------------------------------------------------------------
# üóÑÔ∏è Database Configuration
# ------------------------------------------------------------------------------
DB_NAME={{DB_NAME}}
DB_USER={{DB_USER}}
DB_PASSWORD={{DB_PASSWORD}}
DB_HOST=db  # Use 'localhost' for local development without Docker
DB_PORT=5432

# Full database connection URL (manually construct using your values)
# Example: DATABASE_URL=postgresql://myuser:mypassword@localhost:5432/mydb
DATABASE_URL=postgresql://{{DB_USER}}:{{DB_PASSWORD}}@db:5432/{{DB_NAME}}

# Database pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_TIMEOUT=30

# ------------------------------------------------------------------------------
# üöÄ Backend API Configuration
# ------------------------------------------------------------------------------
API_PORT={{API_PORT}}
API_HOST=0.0.0.0
ENVIRONMENT=development  # Options: development, staging, production

# Security Keys (CHANGE THESE IN PRODUCTION!)
SECRET_KEY=your-very-secure-secret-key-change-in-production-{{PROJECT_NAME}}
ALGORITHM=HS256

# JWT Token Settings
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_RESET_TOKEN_EXPIRE_HOURS=24
EMAIL_VERIFICATION_TOKEN_EXPIRE_HOURS=48

# Password Hashing
BCRYPT_ROUNDS=12

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# ------------------------------------------------------------------------------
# ‚öõÔ∏è Frontend Configuration
# ------------------------------------------------------------------------------
FRONTEND_PORT={{FRONTEND_PORT}}
NODE_ENV=development

# API endpoint for frontend
REACT_APP_API_URL=http://localhost:{{API_PORT}}
REACT_APP_WS_URL=ws://localhost:{{API_PORT}}

# Feature Flags
REACT_APP_ENABLE_ANALYTICS=false
REACT_APP_ENABLE_SOCIAL_AUTH=false
REACT_APP_VERSION=1.0.0

# ------------------------------------------------------------------------------
# üîí CORS Configuration
# ------------------------------------------------------------------------------
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:{{FRONTEND_PORT}}","http://frontend:3000"]
ALLOWED_HOSTS=["localhost","127.0.0.1","backend"]

# ------------------------------------------------------------------------------
# üë§ First Superuser Account
# ------------------------------------------------------------------------------
# IMPORTANT: Change these credentials immediately after first login!
FIRST_SUPERUSER_EMAIL=admin@example.com
FIRST_SUPERUSER_PASSWORD=ChangeMeNow123!
FIRST_SUPERUSER_USERNAME=admin

# ------------------------------------------------------------------------------
# üìß Email Configuration (Optional)
# ------------------------------------------------------------------------------
EMAIL_ENABLED=false
SMTP_TLS=true
SMTP_SSL=false
SMTP_PORT=587
SMTP_HOST=smtp.gmail.com
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAILS_FROM_EMAIL=noreply@{{PROJECT_NAME}}.com
EMAILS_FROM_NAME={{PROJECT_NAME}}

# ------------------------------------------------------------------------------
# üì¶ Redis Cache Configuration (Optional)
# ------------------------------------------------------------------------------
REDIS_ENABLED=false
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://redis:6379/0

# Cache TTL (in seconds)
CACHE_TTL_DEFAULT=3600
CACHE_TTL_SHORT=300
CACHE_TTL_LONG=86400

# ------------------------------------------------------------------------------
# üìä Monitoring & Logging
# ------------------------------------------------------------------------------
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # Options: json, plain
SENTRY_DSN=  # Optional: Sentry error tracking

# Prometheus Metrics
METRICS_ENABLED=false
METRICS_PORT=9090

# ------------------------------------------------------------------------------
# üîÑ Background Tasks (Celery)
# ------------------------------------------------------------------------------
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2
CELERY_TASK_ALWAYS_EAGER=false

# ------------------------------------------------------------------------------
# üìÅ File Storage
# ------------------------------------------------------------------------------
UPLOAD_MAX_SIZE_MB=10
UPLOAD_ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx
UPLOAD_PATH=/app/uploads

# S3 Configuration (Optional)
S3_ENABLED=false
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET_NAME=
AWS_S3_REGION=us-east-1

# ------------------------------------------------------------------------------
# üåê External Services
# ------------------------------------------------------------------------------
# Google OAuth (Optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth (Optional)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Stripe Payment (Optional)
STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ------------------------------------------------------------------------------
# üê≥ Docker Configuration
# ------------------------------------------------------------------------------
COMPOSE_PROJECT_NAME={{PROJECT_NAME}}
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# ------------------------------------------------------------------------------
# üîß Development Settings
# ------------------------------------------------------------------------------
DEBUG=false  # Set to true for development
TESTING=false  # Set to true for running tests
RELOAD=true  # Auto-reload on code changes (development only)

# Jupyter Notebook (for data exploration)
JUPYTER_PORT=8888
JUPYTER_TOKEN=your-jupyter-token

# ------------------------------------------------------------------------------
# üöÄ Production Settings
# ------------------------------------------------------------------------------
# Nginx Configuration
NGINX_PORT=80
NGINX_SSL_PORT=443
SSL_CERT_PATH=/etc/nginx/certs/cert.pem
SSL_KEY_PATH=/etc/nginx/certs/key.pem

# Gunicorn Workers (for production)
WEB_CONCURRENCY=4
WORKERS_PER_CORE=1
MAX_WORKERS=8

# ------------------------------------------------------------------------------
# üéØ Feature Toggles
# ------------------------------------------------------------------------------
FEATURE_REGISTRATION_ENABLED=true
FEATURE_PASSWORD_RESET_ENABLED=true
FEATURE_EMAIL_VERIFICATION_REQUIRED=false
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_API_DOCS_ENABLED=true  # Swagger/OpenAPI docs

# ------------------------------------------------------------------------------
# üìù Notes
# ------------------------------------------------------------------------------
# 1. Never commit this file with real credentials
# 2. Use strong, unique passwords in production
# 3. Rotate secrets regularly
# 4. Use environment-specific .env files (.env.development, .env.production)
# 5. Consider using a secrets management service in production
# ==============================================================================